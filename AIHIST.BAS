1 REM AIHIST.BAS under GNU Afferro General Public License v3 or later version.
2 REM see: https://sites.google.com/site/logicaltriangulation/home/katoptron
3 REM Copyright (C) 2016 Nino Ivanov kedalion.daimon(-at-)gmail.com
4 REM See <http://www.gnu.org/licenses/>.
1000 REM CHALLENGE-REPLY PROGRAM WITH HISTORY
1010 DIM U(8)
1011 REM 8 * 31 = 248 ; 8 * 30 = 240
1020 DIM C(248)
1030 DIM R(31)
1040 REM INITIALIZE ARRAYS
1050 FOR I = 1 TO 8
1060 LET U(I) = 0
1070 NEXT I
1080 FOR I = 1 TO (8 * 31)
1090 LET C(I) = 0
1100 NEXT I
1110 FOR I = 1 TO 31
1120 LET R(I) = 0
1130 NEXT I
1140 REM START:
1150 REM INPUT NEXT S READING
1160 LET S = 0
1161 PRINT
1170 PRINT "SENSOR"
1180 INPUT S
1181 IF S = 0 THEN 1760
1190 REM UPDATE KNOWLEDGE WITH HUMAN REPLY - LEARN
1200 REM FIRSTLY, UPDATE THE CHALLENGE
1210 FOR I = 1 TO (8 * 30)
1220 LET C(I) = C(I + 8)
1230 NEXT I
1240 LET J = 0
1250 FOR I = (8 * 30 + 1) TO (8 * 31)
1260 LET J = J + 1
1270 LET C(I) = U(J)
1280 NEXT I
1290 REM THEN UPDATE THE REPLIES
1300 FOR I = 1 TO 30
1310 LET R(I) = R(I + 1)
1320 NEXT I
1330 LET R(31) = S
1340 REM UPDATE THE INPUT HISTORY WITH THE SENSOR
1350 FOR I = 1 TO (8 - 1)
1360 LET U(I) = U(I + 1)
1370 NEXT I
1380 LET U(8) = S
1390 PRINT "HSTRY:"
1400 PRINT U(1); U(2); U(3); U(4);
1401 PRINT U(5); U(6); U(7); U(8)
1410 PRINT "CHLNG:"
1411 REM IS 216 INSTEAD OF 217 CORRECT BELOW?
1420 PRINT C(217); C(218); C(219); C(220);
1421 PRINT C(221); C(222); C(223); C(224)
1430 PRINT C(225); C(226); C(227); C(228);
1431 PRINT C(229); C(230); C(231); C(232)
1440 PRINT C(233); C(234); C(235); C(236);
1441 PRINT C(237); C(238); C(239); C(240)
1450 PRINT C(241); C(242); C(243); C(244);
1451 PRINT C(245); C(246); C(247); C(248)
1461 REM NOW COME THE REPLIES TO THE CHALLENGES:
1462 PRINT "REPLY:"
1463 PRINT R(28)
1464 PRINT R(29)
1465 PRINT R(30)
1466 PRINT R(31)
1490 REM FIND R FOR INPUT - GUESS
1500 LET M = 1
1510 LET V = 0
1520 LET N = 0
1530 FOR I = 1 TO (8 * 30) STEP 8
1540 LET N = N + 1
1550 LET K = 0
1560 FOR J = 1 TO 8
1570 IF U(J) = C(I + J - 1) THEN 1580
1575 GOTO 1600
1580 LET K = K + 1
1600 NEXT J
1610 IF K >= V THEN 1620
1615 GOTO 1650
1620 LET V = K
1630 LET M = N
1650 NEXT I
1660 LET Y = R(M)
1670 REM INSTINCT CHANGE OF THE SYSTEM OUTPUT IF DESIRED
1680 REM IMPLANT REPLY INTO HISTORY
1690 FOR I = 1 TO (8 - 1)
1700 LET U(I) = U(I + 1)
1710 NEXT I
1720 LET U(8) = Y
1730 PRINT "ACTOR"
1740 PRINT Y
1750 GOTO 1140
1760 END



